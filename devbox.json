{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/main/.schema/devbox.schema.json",
  "packages": [
    "ruby@3.4.8",
    "nodejs@22",
    "yarn@1.22.22",
    "docker-compose",
    "awscli2",
    "jq",
    "yq",
    "mysql80",
    "redis",
    "shared-mime-info",
    "docker@latest",
    "zstd.out",
    "libyaml",
    "openssl",
    "vips",
    "vips.out",
    "vips.dev"
  ],
  "shell": {
    "init_hook": [
      "source bin/devbox-fix-path.sh",
      "source bin/devbox-setup-check.sh"
    ],
    "scripts": {
      "setup": ["bin/devbox-setup.sh"],
      "start": ["bin/devbox-start.sh"],
      "test":  ["bundle exec rspec"]
    }
  },
  "env": {
    "MYSQL_HOST": "127.0.0.1",
    "MYSQL_USER": "root",
    "MYSQL_PASSWORD": "root",
    "MYSQL_DATABASE": "dreamkast",
    "REDIS_URL": "redis://127.0.0.1:6379",
    "S3_BUCKET": "dreamkast-test-bucket",
    "S3_REGION": "ap-northeast-1",
    "SQS_FIFO_QUEUE_URL": "http://localhost:4566/000000000000/default",
    "SQS_MAIL_QUEUE_URL": "http://localhost:4566/000000000000/default",
    "DREAMKAST_API_ADDR": "http://localhost:8080",
    "AWS_REGION": "ap-northeast-1",
    "LIBRARY_PATH": "$DEVBOX_PROJECT_ROOT/.devbox/nix/profile/default/lib",
    "LD_LIBRARY_PATH": "$DEVBOX_PROJECT_ROOT/.devbox/nix/profile/default/lib",
    "PKG_CONFIG_PATH": "$DEVBOX_PROJECT_ROOT/.devbox/nix/profile/default/lib/pkgconfig"
  }
}
